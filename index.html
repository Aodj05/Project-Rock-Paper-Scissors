<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissors</title>
</head>
<html>
    <body>
        <div class="container">
            <button class ="rockBtn" data-button = "rock">Rock</button>
            <button class = "paperBtn" data-button = "paper">Paper</button>
            <button class = "scissorsBtn" data-button = "scissors">Scissors</button>
        </div>

        <div class="results"></div>

        <div class="score"></div>

        <div class="announce"></div>
        <script>
            let computerScore = 0;
            let playerScore = 0;
            let round = 0;

            const rock = document.querySelector('.rockBtn');
            const paper = document.querySelector('.paperBtn');
            const scissors = document.querySelector('.scissorsBtn');
            const results = document.querySelector('.results');
            const score = document.querySelector('.score');
            const announce = document.querySelector('.announce')

            function computerPlay(){
                const computerSelection = Math.floor(Math.random()*3);
                    if(computerSelection ==0 ){
                        return 'rock';
                        } else if (computerSelection==1) {
                            return 'paper';
                            } else if(computerSelection==2) {
                                return 'scissors';
                            } else {
                                console.log(invalid);
                            }
                    } 

                    function playRound(playerSelection,computerSelection){
                    playerSelection = this.dataset.button; 
                    computerSelection=computerPlay();
                    console.log(computerSelection);
                    console.log(playerSelection);
                    if((playerSelection === 'rock' && computerSelection === 'scissors') || 
                        (playerSelection === 'paper' && computerSelection === 'rock') || 
                        (playerSelection === 'scissors' && computerSelection ==='paper' && 
                            (computerScore <= 5 || playerScore <= 5))) {
                            results.classList.add('win');
                            results.textContent = 'You Win!';
                            playerScore++;
                        } else if ((playerSelection === 'rock' && computerSelection === 'paper') || 
                            (playerSelection === 'paper' && computerSelection === 'scissors') || 
                            (playerSelection === 'scissors' && computerSelection === 'rock' && 
                                (computerScore <= 5 || playerScore <= 5))) {
                            results.classList.add('lose');
                            results.textContent = 'Sorry. You lose.';
                            computerScore++;
                            } else {
                            results.classList.add('tie');
                            results.textContent = 'tie';
                            }
                            round++;
                            score.textContent = `Round: ${round}  Score: ${playerScore} - ${computerScore}`;
                            if (playerScore >= 5) {
                                announce.textContent = 'Made it to 5! Congrats!'
                                rock.removeEventListener('click', playRound);
                                paper.removeEventListener('click', playRound);
                                scissors.removeEventListener('click', playRound);
                            } else if (computerScore >= 5) {
                                announce.textContent = 'Sorry. Better luck next time'
                                rock.removeEventListener('click', playRound);
                                paper.removeEventListener('click', playRound);
                                scissors.removeEventListener('click', playRound);
                            }
                        }
                            rock.addEventListener('click', playRound);
                            paper.addEventListener('click', playRound);
                            scissors.addEventListener('click', playRound);
                       
        </script>
    </body>
</html>